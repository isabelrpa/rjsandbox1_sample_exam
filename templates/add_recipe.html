{% extends "base.html" %}

{% block title %}Add Recipe - Filipino Recipes{% endblock %}

{% block content %}
<main class="recipe-content" role="main">
    <div class="form-container">
        <h1 id="form-heading">Add a Recipe</h1>

        {% if error %}
        <div class="form-error" role="alert">{{ error }}</div>
        {% endif %}

        <form action="{{ url_for('add_recipe') }}" method="post" id="recipe-form" aria-labelledby="form-heading" enctype="multipart/form-data">
            <p class="sr-only">Use this form to add a new recipe to the collection.</p>

            <div class="form-group">
                <label for="recipe-name">Recipe Name:</label>
                <input type="text" id="recipe-name" name="recipe-name" required minlength="3" maxlength="50" aria-required="true" placeholder="Enter recipe name (3-50 characters)">
            </div>

            <div class="form-group">
                <label for="recipe-desc">Description:</label>
                <input type="text" id="recipe-desc" name="recipe-desc" required minlength="10" maxlength="200" aria-required="true" placeholder="Brief description of the recipe (10-200 characters)">
            </div>

            <div class="form-group">
                <label for="ingredients">Ingredients:</label>
                <textarea id="ingredients" name="ingredients" rows="5" required aria-required="true" placeholder="Enter ingredients, one per line"></textarea>
            </div>

            <div class="form-group">
                <label for="directions">Directions:</label>
                <textarea id="directions" name="directions" rows="5" required aria-required="true" placeholder="Enter step-by-step cooking instructions"></textarea>
            </div>

            <div class="form-group">
                <label for="image-upload">Upload Image:</label>
                <input type="file" id="image-upload" name="image-upload" accept="image/jpeg, image/png, image/webp" aria-describedby="image-hint">
                <span id="image-hint" class="form-hint">Optional. Accepted formats: JPEG, PNG, WEBP. Max size: 5MB.</span>
            </div>

            <div class="form-group">
                <label for="recipe-category">Category:</label>
                <select id="recipe-category" name="recipe-category" required aria-required="true">
                    <option value="" disabled selected>Select a category</option>
                    <option value="Main Course">Main Course</option>
                    <option value="Soup">Soup</option>
                    <option value="Noodles">Noodles</option>
                    <option value="Special Occasion">Special Occasion</option>
                    <option value="Street Food">Street Food</option>
                    <option value="Dessert">Dessert</option>
                </select>
            </div>

            <div class="form-group">
                <label for="prep-time">Preparation Time:</label>
                <input type="text" id="prep-time" name="prep-time" placeholder="e.g. 15 min">
            </div>

            <div class="form-group">
                <label for="cook-time">Cooking Time:</label>
                <input type="text" id="cook-time" name="cook-time" placeholder="e.g. 45 min">
            </div>

            <div class="form-group">
                <label for="difficulty">Difficulty:</label>
                <input type="text" id="difficulty" name="difficulty" placeholder="e.g. Easy">
            </div>

            <div class="form-actions">
                <button type="submit" class="btn" aria-label="Add this recipe">Add Recipe</button>
                <a href="{{ url_for('index') }}" class="btn" role="button" aria-label="Cancel and return to home page">Cancel</a>
            </div>
        </form>
    </div>
</main>
{% endblock %}
